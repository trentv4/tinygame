@echo off
For /f "tokens=2-4 delims=/ " %%a in ('date /t') do (set mydate=%%c-%%a-%%b)
For /f "tokens=1-2 delims=/:" %%a in ("%TIME%") do (set mytime=%%a%%b)
set mytime=%mytime: =0%
set filename=build_%mydate%_%mytime%

echo.
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
echo ---------------------------------- GCC ----------------------------------
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
echo.

gcc -Wall -Os -s -o build/%filename% src/*.c src/glad/glad.c -L ".\libs" -lglfw3 -lopengl32 -lgdi32

if NOT "%1" == "-ex" (exit)
echo.
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
echo ------------------------- %filename% -------------------------
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
echo.

.\build\%filename%

echo.
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
echo -------------------------------------------------------------------------
